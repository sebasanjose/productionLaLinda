{% extends "base.html" %}
{% block title %}Production Entry - La Linda Tracker{% endblock %}

{% block content %}
<div class="mb-4">
  <h1>Production Entry</h1>
  <p class="text-muted">Record new production batches.</p>
</div>

<div class="grid grid-cols-2 gap-4">
  <!-- Tapas Production -->
  <div class="card">
    <h3>üè≠ Tapas Production</h3>
    <form method="POST">
      <input type="hidden" name="action" value="tapas" />

      <div class="form-group">
        <label for="tapas-date">Date</label>
        <input type="date" name="date" id="tapas-date" value="{{ request.args.get('date', '') }}" />
      </div>

      <div class="grid grid-cols-2 gap-4">
        <div class="form-group">
          <label for="regular-dozens">Regular (dozens)</label>
          <input type="number" name="regular_dozens" id="regular-dozens" step="0.1" min="0" placeholder="0.0" />
        </div>
        <div class="form-group">
          <label for="ghee-dozens">Ghee (dozens)</label>
          <input type="number" name="ghee_dozens" id="ghee-dozens" step="0.1" min="0" placeholder="0.0" />
        </div>
      </div>

      <button type="submit" class="btn btn-primary" style="width: 100%">Record Tapas Production</button>
    </form>
  </div>

  <!-- Wrapped Production -->
  <div class="card">
    <h3>ü•ü Add Wrapped (Unbaked)</h3>
    <form method="POST">
      <input type="hidden" name="action" value="wrapped" />

      <div class="form-group">
        <label for="wrapped-date">Date</label>
        <input type="date" name="date" id="wrapped-date" value="{{ request.args.get('date', '') }}" />
      </div>

      <div class="form-group">
        <label for="wrapped-flavor">Flavor</label>
        <select name="flavor_id" id="wrapped-flavor" required>
          {% for flavor in flavors %}
          <option value="{{ flavor.id }}">{{ flavor.name }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="form-group">
        <label for="wrapped-dozens">Dozens Wrapped</label>
        <input type="number" name="dozens" id="wrapped-dozens" step="0.1" min="0.1" required placeholder="0.0" />
      </div>

      <button type="submit" class="btn btn-primary" style="width: 100%">Add Wrapped Empanadas</button>
    </form>
  </div>

  <!-- Bake Production -->
  <div class="card">
    <h3>üî• Bake Empanadas</h3>
    <form method="POST">
      <input type="hidden" name="action" value="bake" />

      <div class="form-group">
        <label for="bake-date">Date</label>
        <input type="date" name="date" id="bake-date" value="{{ request.args.get('date', '') }}" />
      </div>

      <div class="form-group">
        <label for="bake-flavor">Flavor</label>
        <select name="flavor_id" id="bake-flavor" required>
          {% for flavor in flavors %}
          <option value="{{ flavor.id }}">{{ flavor.name }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="form-group">
        <label for="bake-dozens">Dozens to Bake</label>
        <input type="number" name="dozens" id="bake-dozens" step="0.1" min="0.1" required placeholder="0.0" />
      </div>

      <button type="submit" class="btn btn-primary" style="width: 100%">Bake Empanadas</button>
    </form>

    <div class="mt-4"
      style="background-color: #eff6ff; padding: var(--spacing-md); border-radius: var(--radius-md); border: 1px solid #dbeafe;">
      <h4 style="font-size: 0.875rem; color: #1e40af; margin-bottom: 0.5rem;">Note:</h4>
      <ul style="font-size: 0.875rem; color: #1e3a8a; padding-left: 1.25rem;">
        <li>You can only bake up to the amount of wrapped but unbaked empanadas currently available.</li>
      </ul>
    </div>
  </div>
</div>
{% endblock %}