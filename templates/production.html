{% extends "base.html" %} {% block title %}Production Entry - Empanada
Production Tracker{% endblock %} {% block content %}
<h1>Production Entry</h1>

<form method="POST">
  <div class="form-group">
    <label>Date:</label>
    <input type="date" name="date" value="{{ request.args.get('date', '') }}" />
  </div>

  <h3>Tapas Production</h3>
  <input type="hidden" name="action" value="tapas" />
  <div class="form-group">
    <label>Regular Tapas (dozens):</label>
    <input type="number" name="regular_dozens" step="0.1" min="0" />
  </div>
  <div class="form-group">
    <label for="ghee_dozens">Ghee Dozens:</label>
    <input type="number" step="0.1" id="ghee_dozens" name="ghee_dozens" required>
  </div>

  <div class="form-group">
    <label for="notes">Notes:</label>
    <textarea id="notes" name="notes" rows="2" placeholder="Optional notes..."></textarea>
  </div>

  <button type="submit" class="btn">Record Production</button>
</form>

<h3>Add Wrapped (Unbaked) Empanadas</h3>
<form method="POST">
  <input type="hidden" name="action" value="wrapped" />
  <div class="form-group">
    <label>Flavor:</label>
    <select name="flavor_id" required>
      {% for flavor in flavors %}
      <option value="{{ flavor.id }}">{{ flavor.name }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="form-group">
    <label>Dozens Wrapped:</label>
    <input type="number" name="dozens" step="0.1" min="0.1" required />
  </div>
  <button type="submit" class="btn">Add Wrapped Empanadas</button>
</form>

<h3>Bake Empanadas</h3>
<form method="POST">
  <input type="hidden" name="action" value="bake" />
  <div class="form-group">
    <label>Flavor:</label>
    <select name="flavor_id" required>
      {% for flavor in flavors %}
      <option value="{{ flavor.id }}">{{ flavor.name }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="form-group">
    <label>Dozens to Bake:</label>
    <input type="number" name="dozens" step="0.1" min="0.1" required />
  </div>
  <button type="submit" class="btn">Bake Empanadas</button>
</form>

<p><strong>Note:</strong></p>
<ul>
  <li>
    When baking empanadas, you can only bake up to the amount of wrapped but
    unbaked empanadas currently available for each flavor.
  </li>
  <li>
    The system will prevent you from baking more empanadas than are currently in
    the wrapped but unbaked inventory.
  </li>
</ul>

{% endblock %}
